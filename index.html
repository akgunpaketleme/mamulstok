<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Üretim ve Stok Takip Sistemi</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        const UretimTakipSistemi = () => {
          const [urunler, setUrunler] = useState([]);
          const [hareketler, setHareketler] = useState([]);
          const [aktifSekme, setAktifSekme] = useState('stok');
          const [modalAcik, setModalAcik] = useState(false);
          const [islemTipi, setIslemTipi] = useState('');
          const [secilenUrun, setSecilenUrun] = useState(null);
          const [yeniUrunModalAcik, setYeniUrunModalAcik] = useState(false);
          const [yeniUrunAdi, setYeniUrunAdi] = useState('');

          useEffect(() => {
            const kaydedilmisUrunler = localStorage.getItem('urunler');
            const kaydedilmisHareketler = localStorage.getItem('hareketler');
            
            if (kaydedilmisUrunler) {
              setUrunler(JSON.parse(kaydedilmisUrunler));
            }
            if (kaydedilmisHareketler) {
              setHareketler(JSON.parse(kaydedilmisHareketler));
            }
          }, []);

          useEffect(() => {
            if (urunler.length > 0) {
              localStorage.setItem('urunler', JSON.stringify(urunler));
            }
          }, [urunler]);

          useEffect(() => {
            if (hareketler.length > 0) {
              localStorage.setItem('hareketler', JSON.stringify(hareketler));
            }
          }, [hareketler]);

          const yeniUrunEkle = () => {
            if (!yeniUrunAdi.trim()) {
              alert('Lütfen ürün adı girin');
              return;
            }
            const yeniUrun = {
              id: Date.now(),
              ad: yeniUrunAdi,
              temizlemeStokuA: 0,
              temizlemeStokuB: 0,
              temizlemedekiA: 0,
              temizlemedekiB: 0,
              temizlemedekiKg: 0,
              paketlenecekA: 0,
              paketlenecekB: 0,
              paketlendi: 0,
              paketlendiKoli: 0,
              toplamHurda: 0
            };
            setUrunler([...urunler, yeniUrun]);
            setYeniUrunModalAcik(false);
            setYeniUrunAdi('');
          };

          const hareketEkle = (urunId, islem, detaylar, kullanici = 'Sistem') => {
            const hareket = {
              id: Date.now(),
              tarih: new Date().toLocaleString('tr-TR'),
              urunId,
              urunAd: urunler.find(u => u.id === urunId)?.ad,
              islem,
              detaylar,
              kullanici
            };
            setHareketler([hareket, ...hareketler]);
          };

          const urunGuncelle = (urunId, guncellemeler) => {
            setUrunler(urunler.map(urun => 
              urun.id === urunId ? { ...urun, ...guncellemeler } : urun
            ));
          };

          const islemYap = (data) => {
            const urun = urunler.find(u => u.id === secilenUrun.id);
            
            switch (islemTipi) {
              case 'temizlemeStoku':
                const ekleA = data.islem === 'ekle';
