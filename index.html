<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√úretim ve Stok Takip Sistemi</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        }
        button {
            cursor: pointer;
            border: none;
            outline: none;
        }
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        input, select {
            outline: none;
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        .modal-content {
            background: white;
            border-radius: 8px;
            padding: 24px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        function UretimTakipSistemi() {
          const [urunler, setUrunler] = useState([]);
          const [hareketler, setHareketler] = useState([]);
          const [aktifSekme, setAktifSekme] = useState('stok');
          const [modalAcik, setModalAcik] = useState(false);
          const [islemTipi, setIslemTipi] = useState('');
          const [secilenUrun, setSecilenUrun] = useState(null);
          const [yeniUrunModalAcik, setYeniUrunModalAcik] = useState(false);
          const [yeniUrunAdi, setYeniUrunAdi] = useState('');
          const [formData, setFormData] = useState({});

          useEffect(() => {
            try {
              const kaydedilmisUrunler = localStorage.getItem('urunler');
              const kaydedilmisHareketler = localStorage.getItem('hareketler');
              
              if (kaydedilmisUrunler) {
                setUrunler(JSON.parse(kaydedilmisUrunler));
              }
              if (kaydedilmisHareketler) {
                setHareketler(JSON.parse(kaydedilmisHareketler));
              }
            } catch (e) {
              console.error('Veri y√ºkleme hatasƒ±:', e);
            }
          }, []);

          useEffect(() => {
            if (urunler.length > 0) {
              try {
                localStorage.setItem('urunler', JSON.stringify(urunler));
              } catch (e) {
                console.error('Veri kaydetme hatasƒ±:', e);
              }
            }
          }, [urunler]);

          useEffect(() => {
            if (hareketler.length > 0) {
              try {
                localStorage.setItem('hareketler', JSON.stringify(hareketler));
              } catch (e) {
                console.error('Veri kaydetme hatasƒ±:', e);
              }
            }
          }, [hareketler]);

          const yeniUrunEkle = () => {
            if (!yeniUrunAdi.trim()) {
              alert('L√ºtfen √ºr√ºn adƒ± girin');
              return;
            }
            const yeniUrun = {
              id: Date.now(),
              ad: yeniUrunAdi,
              temizlemeStokuA: 0,
              temizlemeStokuB: 0,
              temizlemedekiA: 0,
              temizlemedekiB: 0,
              temizlemedekiKg: 0,
              paketlenecekA: 0,
              paketlenecekB: 0,
              paketlendi: 0,
              paketlendiKoli: 0,
              toplamHurda: 0
            };
            setUrunler([...urunler, yeniUrun]);
            setYeniUrunModalAcik(false);
            setYeniUrunAdi('');
          };

          const hareketEkle = (urunId, islem, detaylar, kullanici) => {
            const urun = urunler.find(u => u.id === urunId);
            const hareket = {
              id: Date.now(),
              tarih: new Date().toLocaleString('tr-TR'),
              urunId: urunId,
              urunAd: urun ? urun.ad : '',
              islem: islem,
              detaylar: detaylar,
              kullanici: kullanici || 'Sistem'
            };
            setHareketler([hareket, ...hareketler]);
          };

          const urunGuncelle = (urunId, guncellemeler) => {
            setUrunler(urunler.map(urun => {
              if (urun.id === urunId) {
                return { ...urun, ...guncellemeler };
              }
              return urun;
            }));
          };

          const islemYap = () => {
            const urun = secilenUrun;
            if (!urun) return;
            
            if (islemTipi === 'temizlemeStoku') {
                const ekleA = formData.islem === 'ekle';
                const adetA = parseInt(formData.adetA || 0);
                const adetB = parseInt(formData.adetB || 0);
                
                urunGuncelle(urun.id, {
                  temizlemeStokuA: ekleA ? urun.temizlemeStokuA + adetA : urun.temizlemeStokuA - adetA,
                  temizlemeStokuB: ekleA ? urun.temizlemeStokuB + adetB : urun.temizlemeStokuB - adetB
                });
                hareketEkle(urun.id, 'Temizleme Stoƒüu D√ºzenleme', 
                  (ekleA ? 'Eklendi' : '√áƒ±karƒ±ldƒ±') + ' - A: ' + adetA + ', B: ' + adetB, 
                  formData.kullanici);
            }
            
            if (islemTipi === 'temizlemeyeGonder') {
                const gonderilecekA = parseInt(formData.adetA || 0);
                const gonderilecekB = parseInt(formData.adetB || 0);
                const gonderilecekKg = parseFloat(formData.kg || 0);
                
                urunGuncelle(urun.id, {
                  temizlemeStokuA: urun.temizlemeStokuA - gonderilecekA,
                  temizlemeStokuB: urun.temizlemeStokuB - gonderilecekB,
                  temizlemedekiA: urun.temizlemedekiA + gonderilecekA,
                  temizlemedekiB: urun.temizlemedekiB + gonderilecekB,
                  temizlemedekiKg: urun.temizlemedekiKg + gonderilecekKg
                });
                hareketEkle(urun.id, 'Temizlemeye G√∂nderildi', 
                  'A: ' + gonderilecekA + ', B: ' + gonderilecekB + ', ' + gonderilecekKg + ' kg', 
                  formData.kullanici);
            }
            
            if (islemTipi === 'temizlemeDondu') {
                const donenA = parseInt(formData.adetA || 0);
                const donenB = parseInt(formData.adetB || 0);
                const donenKg = parseFloat(formData.kg || 0);
                
                urunGuncelle(urun.id, {
                  temizlemedekiA: urun.temizlemedekiA - donenA,
                  temizlemedekiB: urun.temizlemedekiB - donenB,
                  temizlemedekiKg: urun.temizlemedekiKg - donenKg,
                  paketlenecekA: urun.paketlenecekA + donenA,
                  paketlenecekB: urun.paketlenecekB + donenB
                });
                hareketEkle(urun.id, 'Temizlemeden D√∂nd√º', 
                  'A: ' + donenA + ', B: ' + donenB + ', ' + donenKg + ' kg', 
                  formData.kullanici);
            }
            
            if (islemTipi === 'paketleme') {
                const paketlenenAdet = parseInt(formData.adet || 0);
                const paketlenenKoli = parseInt(formData.koli || 0);
                const hurdaAdet = parseInt(formData.hurda || 0);
                const tekrarTemizlenecek = parseInt(formData.tekrarTemizleme || 0);
                
                urunGuncelle(urun.id, {
                  paketlenecekA: urun.paketlenecekA - paketlenenAdet - hurdaAdet - tekrarTemizlenecek,
                  paketlenecekB: urun.paketlenecekB - paketlenenAdet - hurdaAdet - tekrarTemizlenecek,
                  paketlendi: urun.paketlendi + paketlenenAdet,
                  paketlendiKoli: urun.paketlendiKoli + paketlenenKoli,
                  toplamHurda: urun.toplamHurda + hurdaAdet,
                  temizlemeStokuA: urun.temizlemeStokuA + tekrarTemizlenecek,
                  temizlemeStokuB: urun.temizlemeStokuB + tekrarTemizlenecek
                });
                hareketEkle(urun.id, 'Paketleme', 
                  'Paketlenen: ' + paketlenenAdet + ' adet (' + paketlenenKoli + ' koli), Hurda: ' + hurdaAdet + ', Tekrar Temizleme: ' + tekrarTemizlenecek, 
                  formData.kullanici);
            }
            
            if (islemTipi === 'sevk') {
                const sevkAdet = parseInt(formData.adet || 0);
                const sevkKoli = parseInt(formData.koli || 0);
                
                urunGuncelle(urun.id, {
                  paketlendi: urun.paketlendi - sevkAdet,
                  paketlendiKoli: urun.paketlendiKoli - sevkKoli
                });
                hareketEkle(urun.id, 'Sevk', 
                  sevkAdet + ' adet (' + sevkKoli + ' koli)', 
                  formData.kullanici);
            }
            
            setModalAcik(false);
            setFormData({});
          };

          const modalAc = (urun, tip) => {
            setSecilenUrun(urun);
            setIslemTipi(tip);
            setFormData({});
            setModalAcik(true);
          };

          const formAlanlari = {
            temizlemeStoku: [
              { name: 'islem', label: 'ƒ∞≈ülem Tipi', type: 'select', options: ['ekle', 'cikar'] },
              { name: 'adetA', label: 'A Adeti', type: 'number' },
              { name: 'adetB', label: 'B Adeti', type: 'number' },
              { name: 'kullanici', label: 'Kaydeden', type: 'text' }
            ],
            temizlemeyeGonder: [
              { name: 'adetA', label: 'G√∂nderilen A Adet', type: 'number', max: secilenUrun?.temizlemeStokuA },
              { name: 'adetB', label: 'G√∂nderilen B Adet', type: 'number', max: secilenUrun?.temizlemeStokuB },
              { name: 'kg', label: 'G√∂nderilen Net KG', type: 'number', step: '0.01' },
              { name: 'kullanici', label: 'G√∂nderen', type: 'text' }
            ],
            temizlemeDondu: [
              { name: 'adetA', label: 'D√∂nen A Adet', type: 'number', max: secilenUrun?.temizlemedekiA },
              { name: 'adetB', label: 'D√∂nen B Adet', type: 'number', max: secilenUrun?.temizlemedekiB },
              { name: 'kg', label: 'D√∂nen Net KG', type: 'number', step: '0.01' },
              { name: 'kullanici', label: 'Kaydeden', type: 'text' }
            ],
            paketleme: [
              { name: 'adet', label: 'Paketlenen Adet', type: 'number', max: Math.min(secilenUrun?.paketlenecekA || 0, secilenUrun?.paketlenecekB || 0) },
              { name: 'koli', label: 'Paketlenen Koli Adeti', type: 'number' },
              { name: 'hurda', label: 'Hurda Adet', type: 'number' },
              { name: 'tekrarTemizleme', label: 'Tekrar Temizlenecek Adet', type: 'number' },
              { name: 'kullanici', label: 'Paketleyen', type: 'text' }
            ],
            sevk: [
              { name: 'adet', label: 'Sevk Edilen √úr√ºn Adeti', type: 'number', max: secilenUrun?.paketlendi },
              { name: 'koli', label: 'Sevk Edilen Koli Adeti', type: 'number', max: secilenUrun?.paketlendiKoli },
              { name: 'kullanici', label: 'Sevk Eden', type: 'text' }
            ]
          };

          const basliklar = {
            temizlemeStoku: 'üìù Temizleme Stoƒüu D√ºzenle',
            temizlemeyeGonder: 'üöö Temizlemeye G√∂nder',
            temizlemeDondu: '‚úÖ Temizlemeden D√∂nd√º',
            paketleme: 'üì¶ Paketleme',
            sevk: 'üöõ Sevk'
          };

          const handleKaydet = () => {
            const alanlar = formAlanlari[islemTipi];
            let valid = true;
            
            for (let i = 0; i < alanlar.length; i++) {
              const alan = alanlar[i];
              if (!formData[alan.name]) {
                alert('L√ºtfen ' + alan.label + ' alanƒ±nƒ± doldurun');
                valid = false;
                break;
              }
            }
            
            if (valid) {
              islemYap();
            }
          };

          return (
            <div style={{minHeight: '100vh', backgroundColor: '#f9fafb', padding: '24px'}}>
              <div style={{maxWidth: '1280px', margin: '0 auto'}}>
                <div style={{backgroundColor: 'white', borderRadius: '8px', boxShadow: '0 1px 3px rgba(0,0,0,0.1)', padding: '24px', marginBottom: '24px'}}>
                  <h1 style={{fontSize: '30px', fontWeight: 'bold', color: '#1f2937', marginBottom: '8px'}}>√úretim ve Stok Takip Sistemi</h1>
                  <p style={{color: '#6b7280'}}>Ger√ßek zamanlƒ± √ºretim ve stok y√∂netimi</p>
                </div>

                <div style={{display: 'flex', gap: '8px', marginBottom: '24px', flexWrap: 'wrap'}}>
                  <button
                    onClick={() => setAktifSekme('stok')}
                    style={{
                      padding: '8px 24px',
                      borderRadius: '8px',
                      fontWeight: '500',
                      backgroundColor: aktifSekme === 'stok' ? '#2563eb' : 'white',
                      color: aktifSekme === 'stok' ? 'white' : '#374151'
                    }}
                  >
                    üìä Stok Durumu
                  </button>
                  <button
                    onClick={() => setAktifSekme('hareketler')}
                    style={{
                      padding: '8px 24px',
                      borderRadius: '8px',
                      fontWeight: '500',
                      backgroundColor: aktifSekme === 'hareketler' ? '#2563eb' : 'white',
                      color: aktifSekme === 'hareketler' ? 'white' : '#374151'
                    }}
                  >
                    üìú Ge√ßmi≈ü Hareketler
                  </button>
                  <button
                    onClick={() => setYeniUrunModalAcik(true)}
                    style={{
                      marginLeft: 'auto',
                      padding: '8px 24px',
                      backgroundColor: '#16a34a',
                      color: 'white',
                      borderRadius: '8px',
                      fontWeight: '500'
                    }}
                  >
                    ‚ûï Yeni √úr√ºn Ekle
                  </button>
                </div>

                {aktifSekme === 'stok' && (
                  <div style={{backgroundColor: 'white', borderRadius: '8px', boxShadow: '0 1px 3px rgba(0,0,0,0.1)', overflow: 'hidden'}}>
                    <div style={{overflowX: 'auto'}}>
                      <table style={{width: '100%', fontSize: '14px'}}>
                        <thead style={{backgroundColor: '#f3f4f6'}}>
                          <tr>
                            <th style={{padding: '12px', textAlign: 'left'}}>√úr√ºn</th>
                            <th style={{padding: '12px', textAlign: 'center', backgroundColor: '#fef3c7'}} colSpan="2">Temizleme Stoƒüu</th>
                            <th style={{padding: '12px', textAlign: 'center', backgroundColor: '#dbeafe'}} colSpan="3">Temizlemede</th>
                            <th style={{padding: '12px', textAlign: 'center', backgroundColor: '#e9d5ff'}} colSpan="2">Paketlenecek</th>
                            <th style={{padding: '12px', textAlign: 'center', backgroundColor: '#d1fae5'}} colSpan="2">Paketlendi</th>
                            <th style={{padding: '12px', textAlign: 'center', color: '#dc2626'}}>Hurda</th>
                            <th style={{padding: '12px', textAlign: 'center'}}>ƒ∞≈ülemler</th>
                          </tr>
                          <tr style={{fontSize: '12px', backgroundColor: '#f9fafb'}}>
                            <th style={{padding: '8px'}}></th>
                            <th style={{padding: '8px', backgroundColor: '#fef3c7'}}>A</th>
                            <th style={{padding: '8px', backgroundColor: '#fef3c7'}}>B</th>
                            <th style={{padding: '8px', backgroundColor: '#dbeafe'}}>A</th>
                            <th style={{padding: '8px', backgroundColor: '#dbeafe'}}>B</th>
                            <th style={{padding: '8px', backgroundColor: '#dbeafe'}}>KG</th>
                            <th style={{padding: '8px', backgroundColor: '#e9d5ff'}}>A</th>
                            <th style={{padding: '8px', backgroundColor: '#e9d5ff'}}>B</th>
                            <th style={{padding: '8px', backgroundColor: '#d1fae5'}}>Adet</th>
                            <th style={{padding: '8px', backgroundColor: '#d1fae5'}}>Koli</th>
                            <th style={{padding: '8px'}}></th>
                            <th style={{padding: '8px'}}></th>
                          </tr>
                        </thead>
                        <tbody>
                          {urunler.length === 0 ? (
                            <tr>
                              <td colSpan="12" style={{textAlign: 'center', padding: '32px', color: '#6b7280'}}>
                                Hen√ºz √ºr√ºn eklenmemi≈ü. "Yeni √úr√ºn Ekle" butonuna tƒ±klayƒ±n.
                              </td>
                            </tr>
                          ) : (
                            urunler.map(urun => {
                              const paketYapilabilir = Math.min(urun.paketlenecekA, urun.paketlenecekB);
                              return (
                                <tr key={urun.id} style={{borderBottom: '1px solid #e5e7eb'}}>
                                  <td style={{padding: '12px', fontWeight: '500'}}>{urun.ad}</td>
                                  <td style={{padding: '12px', textAlign: 'center', backgroundColor: '#fef3c7'}}>{urun.temizlemeStokuA}</td>
                                  <td style={{padding: '12px', textAlign: 'center', backgroundColor: '#fef3c7'}}>{urun.temizlemeStokuB}</td>
                                  <td style={{padding: '12px', textAlign: 'center', backgroundColor: '#dbeafe'}}>{urun.temizlemedekiA}</td>
                                  <td style={{padding: '12px', textAlign: 'center', backgroundColor: '#dbeafe'}}>{urun.temizlemedekiB}</td>
                                  <td style={{padding: '12px', textAlign: 'center', backgroundColor: '#dbeafe'}}>{(urun.temizlemedekiKg || 0).toFixed(2)}</td>
                                  <td style={{padding: '12px', textAlign: 'center', backgroundColor: '#e9d5ff'}}>{urun.paketlenecekA}</td>
                                  <td style={{padding: '12px', textAlign: 'center', backgroundColor: '#e9d5ff'}}>{urun.paketlenecekB}</td>
                                  <td style={{padding: '12px', textAlign: 'center', backgroundColor: '#d1fae5', fontWeight: 'bold'}}>{urun.paketlendi}</td>
                                  <td style={{padding: '12px', textAlign: 'center', backgroundColor: '#d1fae5', fontWeight: 'bold'}}>{urun.paketlendiKoli}</td>
                                  <td style={{padding: '12px', textAlign: 'center', color: '#dc2626', fontWeight: '500'}}>{urun.toplamHurda}</td>
                                  <td style={{padding: '12px'}}>
                                    <div style={{display: 'flex', flexDirection: 'column', gap: '4px'}}>
                                      <button 
                                        onClick={() => modalAc(urun, 'temizlemeStoku')}
                                        style={{
                                          fontSize: '12px',
                                          backgroundColor: '#fef3c7',
                                          color: '#92400e',
                                          padding: '4px 8px',
                                          borderRadius: '4px'
                                        }}
                                      >
                                        ‚úèÔ∏è Tem. Stok
                                      </button>
                                      <button 
                                        onClick={() => modalAc(urun, 'temizlemeyeGonder')}
                                        disabled={urun.temizlemeStokuA === 0 && urun.temizlemeStokuB === 0}
                                        style={{
                                          fontSize: '12px',
                                          backgroundColor: '#dbeafe',
                                          color: '#1e40af',
                                          padding: '4px 8px',
                                          borderRadius: '4px'
                                        }}
                                      >
                                        üì§ G√∂nder
                                      </button>
                                      <button 
                                        onClick={() => modalAc(urun, 'temizlemeDondu')}
                                        disabled={urun.temizlemedekiA === 0 && urun.temizlemedekiB === 0}
                                        style={{
                                          fontSize: '12px',
                                          backgroundColor: '#e9d5ff',
                                          color: '#6b21a8',
                                          padding: '4px 8px',
                                          borderRadius: '4px'
                                        }}
                                      >
                                        ‚úÖ D√∂nd√º
                                      </button>
                                      <button 
                                        onClick={() => modalAc(urun, 'paketleme')}
                                        disabled={paketYapilabilir === 0}
                                        style={{
                                          fontSize: '12px',
                                          backgroundColor: '#fed7aa',
                                          color: '#92400e',
                                          padding: '4px 8px',
                                          borderRadius: '4px'
                                        }}
                                      >
                                        üì¶ Paketleme
                                      </button>
                                      <button 
                                        onClick={() => modalAc(urun, 'sevk')}
                                        disabled={urun.paketlendi === 0}
                                        style={{
                                          fontSize: '12px',
                                          backgroundColor: '#d1fae5',
                                          color: '#065f46',
                                          padding: '4px 8px',
                                          borderRadius: '4px'
                                        }}
                                      >
                                        üöö Sevk
                                      </button>
                                    </div>
                                  </td>
                                </tr>
                              );
                            })
                          )}
                        </tbody>
                      </table>
                    </div>
                  </div>
                )}

                {aktifSekme === 'hareketler' && (
                  <div style={{backgroundColor: 'white', borderRadius: '8px', boxShadow: '0 1px 3px rgba(0,0,0,0.1)', overflow: 'hidden'}}>
                    <div style={{padding: '16px', backgroundColor: '#f9fafb', borderBottom: '1px solid #e5e7eb'}}>
                      <h2 style={{fontSize: '20px', fontWeight: 'bold'}}>Ge√ßmi≈ü Hareketler</h2>
                    </div>
                    <div style={{overflowX: 'auto', maxHeight: '400px'}}>
                      <table style={{width: '100%'}}>
                        <thead style={{backgroundColor: '#f3f4f6', position: 'sticky', top: 0}}>
                          <tr>
                            <th style={{padding: '8px 16px', textAlign: 'left'}}>Tarih</th>
                            <th style={{padding: '8px 16px', textAlign: 'left'}}>√úr√ºn</th>
                            <th style={{padding: '8px 16px', textAlign: 'left'}}>ƒ∞≈ülem</th>
                            <th style={{padding: '8px 16px', textAlign: 'left'}}>Detaylar</th>
                            <th style={{padding: '8px 16px', textAlign: 'left'}}>Kullanƒ±cƒ±</th>
                          </tr>
                        </thead>
                        <tbody>
                          {hareketler.length === 0 ? (
                            <tr>
                              <td colSpan="5" style={{textAlign: 'center', padding: '32px', color: '#6b7280'}}>
                                Hen√ºz hareket kaydƒ± yok.
                              </td>
                            </tr>
                          ) : (
                            hareketler.map(hareket => (
                              <tr key={hareket.id} style={{borderBottom: '1px solid #e5e7eb'}}>
                                <td style={{padding: '8px 16px', fontSize: '14px'}}>{hareket.tarih}</td>
                                <td style={{padding: '8px 16px', fontWeight: '500'}}>{hareket.urunAd}</td>
                                <td style={{padding: '8px 16px'}}>
                                  <span style={{padding: '4px 8px', backgroundColor: '#dbeafe', color: '#1e40af', borderRadius: '4px', fontSize: '14px'}}>
                                    {hareket.islem}
                                  </span>
                                </td>
                                <td style={{padding: '8px 16px', fontSize: '14px'}}>{hareket.detaylar}</td>
                                <td style={{padding: '8px 16px', fontSize: '14px'}}>{hareket.kullanici}</td>
                              </tr>
                            ))
                          )}
                        </tbody>
                      </table>
                    </div>
                  </div>
                )}

                {yeniUrunModalAcik && (
                  <div className="modal-overlay" onClick={() => setYeniUrunModalAcik(false)}>
                    <div className="modal-content" onClick={(e) => e.stopPropagation()}>
                      <h3 style={{fontSize: '20px', fontWeight: 'bold', marginBottom: '16px'}}>üÜï Yeni √úr√ºn Ekle</h3>
                      
                      <div style={{marginBottom: '16px'}}>
                        <label style={{display: 'block', fontSize: '14px', fontWeight: '500', marginBottom: '4px'}}>√úr√ºn Adƒ±</label>
                        <input
                          type="text"
                          style={{width: '100%', padding: '8px', border: '1px solid #d1d5db', borderRadius: '4px'}}
                          value={yeniUrunAdi}
                          onChange={(e) => setYeniUrunAdi(e.target.value)}
                          placeholder="√ñrn: √úr√ºn A, Model X, vb."
                          autoFocus
                        />
                      </div>
                      
                      <div style={{display: 'flex', gap: '8px'}}>
                        <button 
                          onClick={yeniUrunEkle} 
                          style={{
                            flex: 1,
                            backgroundColor: '#16a34a',
                            color: 'white',
                            padding: '8px',
                            borderRadius: '4px'
                          }}
                        >
                          Ekle
                        </button>
                        <button 
                          onClick={() => { setYeniUrunModalAcik(false); setYeniUrunAdi(''); }} 
                          style={{
                            flex: 1,
                            backgroundColor: '#d1d5db',
                            padding: '8px',
                            borderRadius: '4px'
                          }}
                        >
                          ƒ∞ptal
                        </button>
                      </div>
                    </div>
                  </div>
                )}

                {modalAcik && (
                  <div className="modal-overlay" onClick={() => setModalAcik(false)}>
                    <div className="modal-content" onClick={(e) => e.stopPropagation()}>
                      <h3 style={{fontSize: '20px', fontWeight: 'bold', marginBottom: '8px'}}>{basliklar[islemTipi]}</h3>
                      <p style={{color: '#6b7280', marginBottom: '16px'}}>√úr√ºn: <strong>{secilenUrun?.ad}</strong></p>
                      
                      <div>
                        {formAlanlari[islemTipi] && formAlanlari[islemTipi].map(alan => (
                          <div key={alan.name} style={{marginBottom: '16px'}}>
                            <label style={{display: 'block', fontSize: '14px', fontWeight: '500', marginBottom: '4px'}}>{alan.label}</label>
                            {alan.type === 'select' ? (
                              <select
                                style={{width: '100%', padding: '8px', border: '1px solid #d1d5db', borderRadius: '4px'}}
                                value={formData[alan.name] || ''}
                                onChange={(e) => setFormData({...formData, [alan.name]: e.target.value})}
                              >
                                <option value="">Se√ßin...</option>
                                {alan.options.map(opt => (
                                  <option key={opt} value={opt}>
                                    {opt === 'ekle' ? 'Ekle (+)' : opt === 'cikar' ? '√áƒ±kar (-)' : opt}
                                  </option>
                                ))}
                              </select>
                            ) : (
                              <input
                                type={alan.type}
                                step={alan.step}
                                style={{width: '100%', padding: '8px', border: '1px solid #d1d5db', borderRadius: '4px'}}
                                value={formData[alan.name] || ''}
                                onChange={(e) => setFormData({...formData, [alan.name]: e.target.value})}
                                max={alan.max}
                              />
                            )}
                            {alan.max !== undefined && <p style={{fontSize: '12px', color: '#6b7280', marginTop: '4px'}}>Maksimum: {alan.max}</p>}
                          </div>
                        ))}
                        
                        <div style={{display: 'flex', gap: '8px', marginTop: '24px'}}>
                          <button 
                            onClick={handleKaydet} 
                            style={{
                              flex: 1,
                              backgroundColor: '#2563eb',
                              color: 'white',
                              padding: '8px',
                              borderRadius: '4px'
                            }}
                          >
                            Kaydet
                          </button>
                          <button 
                            onClick={() => { setModalAcik(false); setFormData({}); }} 
                            style={{
                              flex: 1,
                              backgroundColor: '#d1d5db',
                              padding: '8px',
                              borderRadius: '4px'
                            }}
                          >
                            ƒ∞ptal
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                )}

              </div>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<UretimTakipSistemi />);
    </script>
</body>
</html>
