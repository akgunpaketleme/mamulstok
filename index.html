<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Envanter Takip Sistemi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;
        const Plus = () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>;
        const Minus = () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line></svg>;
        const Edit2 = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>;
        const Save = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg>;
        const X = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>;
        const Package = ({ size = 36 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>;
        const Box = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>;
        const Layers = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>;
        const Circle = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"></circle></svg>;
        const AlertCircle = ({ size = 28 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>;
        const Search = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg>;
        const Download = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>;
        const Upload = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>;
        const InventoryManagement = () => {
            const [activeTab, setActiveTab] = useState('izolasyon');
            const [searchTerm, setSearchTerm] = useState('');
            const [editingItem, setEditingItem] = useState(null);
            const [showModal, setShowModal] = useState(false);
            const [modalData, setModalData] = useState({ type: '', item: null, amount: 0, reason: '' });
            const initialData = {
                izolasyon: [
                    { id: 'iz1', name: 'FOG-B335A (A)', stock: -2005 },
                    { id: 'iz2', name: 'FOG-B335A (B) - FOG-B506A (B)', stock: -1874 },
                    { id: 'iz3', name: 'FOG-B730A (B)', stock: 36 },
                    { id: 'iz4', name: 'FOG-B1350 (A)', stock: 50 },
                    { id: 'iz5', name: 'FOG-B1350A (B)', stock: 69 },
                    { id: 'iz6', name: 'HZG20B (B) - HZG30B (D)', stock: 26 },
                    { id: 'iz7', name: 'HZG20B (A) - HZG30B (B)', stock: 22 },
                    { id: 'iz8', name: 'HZG30B (A)', stock: 10 },
                    { id: 'iz9', name: 'HZG30B (C) - FQ-01B/A (A)', stock: 37 },
                    { id: 'iz10', name: 'FQ-01B/A-B', stock: 126 },
                    { id: 'iz11', name: 'KHRQ22M20T (A)', stock: 484 },
                    { id: 'iz12', name: 'KHRQ22M20T (B)', stock: 610 },
                    { id: 'iz13', name: 'MXJ-YA1509M/R1 (A) - MXJ-YA1500M', stock: -17012 },
                    { id: 'iz14', name: 'MXJ-YA1509M/R1 (B) - MXJ-YA2812M (B) - MXJ-YA2815M (B) - MXJ-YA3419M (B)', stock: -18293 },
                    { id: 'iz15', name: 'MXJ-YA2812M (A) - MXJ-YA2815M (A)', stock: 1535 },
                    { id: 'iz16', name: 'MXJ-YA3419M (A) - MXJ-YA4119M (A)', stock: 800 },
                    { id: 'iz17', name: 'MXJ-YA4119M (B)', stock: 300 },
                    { id: 'iz18', name: 'FOG-B335A/Y (A)', stock: 358 },
                    { id: 'iz19', name: 'FOG-B335A/Y (B)', stock: 367 },
                    { id: 'iz20', name: 'MXJ-YA2512M/R3 (B)', stock: -20863 },
                    { id: 'iz21', name: 'MXJ-YA2512M/R3 (A)', stock: -20916 },
                    { id: 'iz22', name: 'FOG-B506A/Y (A) - FOG-B730A (B)', stock: -69 },
                    { id: 'iz23', name: 'FOG-B506A/Y (B)', stock: 61 },
                    { id: 'iz24', name: 'FOG-B506A (A) - FOG-B730A (A)', stock: 1500 },
                    { id: 'iz25', name: 'X', stock: 149 },
                    { id: 'iz26', name: 'FOG-B730A/Y (A)', stock: 0 },
                    { id: 'iz27', name: 'FOG-B730A/Y (B)', stock: 0 },
                    { id: 'iz28', name: 'CMY-Y102SS-TR (A)', stock: -186 },
                    { id: 'iz29', name: 'CMY-Y102SS-TR (B)', stock: -186 },
                    { id: 'iz30', name: 'CMY-Y102SS-TR (A1)', stock: 3500 },
                    { id: 'iz31', name: 'CMY-Y102SS-TR (B1)', stock: 2000 },
                    { id: 'iz32', name: 'CMY-202S', stock: 1500 }
                ],
                koli: [
                    { id: 'k1', name: 'B8 - 65.5*38*41', stock: 129 },
                    { id: 'k2', name: 'B6 - 59.5*41.5*30', stock: 380 },
                    { id: 'k3', name: 'B5 - 61*28*40', stock: 400 },
                    { id: 'k4', name: 'B4 - 68.5*36*35', stock: 267 },
                    { id: 'k5', name: 'B3 - 68.5*45.5*32', stock: -1024 },
                    { id: 'k6', name: 'B2 - 56.5*34.4*38.2', stock: -1933 },
                    { id: 'k7', name: 'B1 - 70*46*28', stock: 780 },
                    { id: 'k8', name: 'B9 - 72*36*38', stock: -42 },
                    { id: 'k9', name: 'B7 (Fittings) - 38.5x26.5x22', stock: 283 }
                ],
                kutu: [
                    { id: 'kt1', name: 'K1 - 45*13.5*3.5', stock: 670 },
                    { id: 'kt2', name: 'K2 - 45*13.5*6', stock: 650 },
                    { id: 'kt3', name: 'K3 - 55.5*16.5*3.5', stock: 712 },
                    { id: 'kt4', name: 'K4 - 45*17*6', stock: -26000 },
                    { id: 'kt5', name: 'K5 - 35*22*6.5', stock: 50 },
                    { id: 'kt6', name: 'K6 - 60*27*7.5', stock: 400 },
                    { id: 'kt7', name: 'K7 - 55.5*16.5*7.2', stock: -19819 },
                    { id: 'kt8', name: 'K8 - 58*20*9', stock: 450 },
                    { id: 'kt9', name: 'K9 - 63.5 × 17.5 × 7', stock: 35 },
                    { id: 'kt10', name: 'K10 - 63.5*17.5*4.5', stock: 813 },
                    { id: 'kt11', name: 'K11 - 35*11.5*5', stock: -1750 }
                ],
                tapa: [
                    { id: 't1', name: '8x15 - Çin - Kırmızı', stock: 70168 },
                    { id: 't2', name: '9x15 Çin - Kırmızı', stock: 41746 },
                    { id: 't3', name: '10x20 - Çin - Kırmızı', stock: 11000 },
                    { id: 't4', name: '11x15 - Çin - Kırmızı', stock: 81893 },
                    { id: 't5', name: '12x15 - Çin - Kırmızı', stock: 295710 },
                    { id: 't6', name: '14x15 - Çin - Kırmızı', stock: 71783 },
                    { id: 't7', name: '16x15 - Çin - Kırmızı', stock: 175310 },
                    { id: 't8', name: '18x15 - Çin - Kırmızı', stock: 347704 },
                    { id: 't9', name: '19x20 - Çin - Kırmızı', stock: 49864 },
                    { id: 't10', name: '21x20 - Çin - Kırmızı', stock: 10246 },
                    { id: 't11', name: '22x20 - Çin - Kırmızı', stock: 4830 },
                    { id: 't12', name: '23x20 - Çin - Kırmızı', stock: 5800 },
                    { id: 't13', name: '25x20 - Çin - Kırmızı', stock: 5700 },
                    { id: 't14', name: '31x25 - Çin - Kırmızı', stock: 12630 },
                    { id: 't15', name: '38x30 - Çin - Kırmızı', stock: 2215 },
                    { id: 't16', name: '45x30 - Çin - Kırmızı', stock: 5740 },
                    { id: 't17', name: '57x40 - Çin - Kırmızı', stock: 2310 },
                    { id: 't18', name: '7x15 - Türk - Kırmızı', stock: 13500 },
                    { id: 't19', name: '8x15 - Türk - Kırmızı', stock: 1000 },
                    { id: 't20', name: '12x15 - Türk - Kırmızı', stock: 1000 },
                    { id: 't21', name: '15x15 - Türk - Kırmızı', stock: 3600 },
                    { id: 't22', name: '18x15 - Türk - Kırmızı', stock: 2000 },
                    { id: 't23', name: '22x20 - Türk - Kırmızı', stock: 3500 },
                    { id: 't24', name: '31x25 - Türk - Kırmızı', stock: 3000 },
                    { id: 't25', name: '11x15 - Türk - Sarı', stock: 350 },
                    { id: 't26', name: '14x15 - Türk - Sarı', stock: 4000 },
                    { id: 't27', name: '18x15 - Türk - Sarı', stock: 1000 },
                    { id: 't28', name: '11x15 - Türk - Siyah', stock: 700 }
                ]
            };
            const [inventory, setInventory] = useState(() => {
                const saved = localStorage.getItem('inventoryData');
                return saved ? JSON.parse(saved) : initialData;
            });
            const [history, setHistory] = useState(() => {
                const saved = localStorage.getItem('inventoryHistory');
                return saved ? JSON.parse(saved) : [];
            });
            useEffect(() => {
                localStorage.setItem('inventoryData', JSON.stringify(inventory));
            }, [inventory]);
            useEffect(() => {
                localStorage.setItem('inventoryHistory', JSON.stringify(history));
            }, [history]);
            const handleStockChange = (type, itemId, change) => {
                const item = inventory[type].find(i => i.id === itemId);
                setModalData({ type, item, amount: Math.abs(change), reason: '', action: change > 0 ? 'add' : 'remove' });
                setShowModal(true);
            };
            const confirmStockChange = () => {
                if (!modalData.reason.trim()) {
                    alert('Lütfen sebep giriniz!');
                    return;
                }
                const change = modalData.action === 'add' ? modalData.amount : -modalData.amount;
                setInventory(prev => ({
                    ...prev,
                    [modalData.type]: prev[modalData.type].map(item =>
                        item.id === modalData.item.id
                            ? { ...item, stock: item.stock + change }
                            : item
                    )
                }));
                const historyEntry = {
                    id: Date.now(),
                    date: new Date().toLocaleString('tr-TR'),
                    category: modalData.type,
                    itemName: modalData.item.name,
                    action: modalData.action === 'add' ? 'Eklendi' : 'Çıkarıldı',
                    amount: modalData.amount,
                    reason: modalData.reason,
                    newStock: modalData.item.stock + change
                };
                setHistory(prev => [historyEntry, ...prev]);
                setShowModal(false);
                setModalData({ type: '', item: null, amount: 0, reason: '' });
            };
            const handleEdit = (type, item) => {
                setEditingItem({ ...item, type });
            };
            const saveEdit = () => {
                setInventory(prev => ({
                    ...prev,
                    [editingItem.type]: prev[editingItem.type].map(item =>
                        item.id === editingItem.id
                            ? { ...item, name: editingItem.name, stock: editingItem.stock }
                            : item
                    )
                }));
                setEditingItem(null);
            };
            const filteredItems = inventory[activeTab].filter(item =>
                item.name.toLowerCase().includes(searchTerm.toLowerCase())
            );
            const getStockColor = (stock) => {
                if (stock < 0) return 'text-red-600 bg-red-50';
                if (stock < 100) return 'text-orange-600 bg-orange-50';
                return 'text-green-600 bg-green-50';
            };
            const categoryIcons = {
                izolasyon: Layers,
                koli: Box,
                kutu: Package,
                tapa: Circle
            };
            const categoryNames = {
                izolasyon: 'İzolasyon',
                koli: 'Koli',
                kutu: 'Kutu',
                tapa: 'Tapa'
            };
            const exportData = () => {
                const dataStr = JSON.stringify({ inventory, history }, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `envanter-yedek-${new Date().toISOString().split('T')[0]}.json`;
                link.click();
            };
            const importData = (event) => {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        try {
                            const data = JSON.parse(e.target.result);
                            if (data.inventory && data.history) {
                                setInventory(data.inventory);
                                setHistory(data.history);
                                alert('Veriler başarıyla yüklendi!');
                            }
                        } catch (error) {
                            alert('Dosya formatı hatalı!');
                        }
                    };
                    reader.readAsText(file);
                }
            };
            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
                    <div className="max-w-7xl mx-auto">
                        <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
                            <div className="flex items-center justify-between mb-4">
                                <h1 className="text-3xl font-bold text-gray-800 flex items-center gap-3">
                                    <Package size={36} />
                                    Envanter Takip Sistemi
                                </h1>
                                <div className="flex gap-2">
                                    <button onClick={exportData} className="flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition">
                                        <Download size={20} />
                                        Dışa Aktar
                                    </button>
                                    <label className="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition cursor-pointer">
                                        <Upload size={20} />
                                        İçe Aktar
                                        <input type="file" accept=".json" onChange={importData} className="hidden" />
                                    </label>
                                </div>
                            </div>
                            <div className="relative">
                                <span className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400">
                                    <Search size={20} />
                                </span>
                                <input type="text" placeholder="Ürün ara..." value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />
                            </div>
                        </div>
                        <div className="bg-white rounded-lg shadow-lg mb-6 p-2">
                            <div className="flex gap-2">
                                {Object.keys(inventory).map(category => {
                                    const Icon = categoryIcons[category];
                                    return (
                                        <button key={category} onClick={() => setActiveTab(category)} className={`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg font-semibold transition ${activeTab === category ? 'bg-blue-600 text-white shadow-md' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`}>
                                            <Icon size={20} />
                                            {categoryNames[category]}
                                            <span className="ml-2 px-2 py-1 rounded-full text-xs bg-white bg-opacity-20">
                                                {inventory[category].length}
                                            </span>
                                        </button>
                                    );
                                })}
                            </div>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
                            {filteredItems.map(item => (
                                <div key={item.id} className="bg-white rounded-lg shadow-md hover:shadow-xl transition p-4">
                                    {editingItem?.id === item.id ? (
                                        <div className="space-y-3">
                                            <input type="text" value={editingItem.name} onChange={(e) => setEditingItem({ ...editingItem, name: e.target.value })} className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" />
                                            <input type="number" value={editingItem.stock} onChange={(e) => setEditingItem({ ...editingItem, stock: parseInt(e.target.value) || 0 })} className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" />
                                            <div className="flex gap-2">
                                                <button onClick={saveEdit} className="flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">
                                                    <Save />
                                                    Kaydet
                                                </button>
                                                <button onClick={() => setEditingItem(null)} className="flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">
                                                    <X />
                                                    İptal
                                                </button>
                                            </div>
                                        </div>
                                    ) : (
                                        <>
                                            <div className="flex items-start justify-between mb-3">
                                                <h3 className="font-semibold text-gray-800 text-sm leading-tight flex-1">{item.name}</h3>
                                                <button onClick={() => handleEdit(activeTab, item)} className="text-blue-600 hover:text-blue-700 ml-2">
                                                    <Edit2 />
                                                </button>
                                            </div>
                                            <div className={`text-2xl font-bold mb-4 px-3 py-2 rounded-lg text-center ${getStockColor(item.stock)}`}>
                                                {item.stock.toLocaleString('tr-TR')} adet
                                            </div>
                                            <div className="flex gap-2">
                                                <button onClick={() => handleStockChange(activeTab, item.id, -1)} className="flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition">
                                                    <Minus />
                                                    Çıkart
                                                </button>
                                                <button onClick={() => handleStockChange(activeTab, item.id, 1)} className="flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition">
                                                    <Plus />
                                                    Ekle
                                                </button>
                                            </div>
                                        </>
                                    )}
                                </div>
                            ))}
                        </div>
                        <div className="bg-white rounded-lg shadow-lg p-6">
                            <h2 className="text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                                <AlertCircle size={28} />
                                İşlem Geçmişi
                            </h2>
                            <div className="overflow-x-auto">
                                <table className="w-full">
                                    <thead className="bg-gray-100">
                                     <tr>
                                            <th className="px-4 py-3 text-left text-sm font-semibold text-gray-700">Tarih</th>
                                            <th className="px-4 py-3 text-left text-sm font-semibold text-gray-700">Kategori</th>
                                            <th className="px-4 py-3 text-left text-sm font-semibold text-gray-700">Ürün</th>
                                            <th className="px-4 py-3 text-left text-sm font-semibold text-gray-700">İşlem</th>
                                            <th className="px-4 py-3 text-left text-sm font-semibold text-gray-700">Miktar</th>
                                            <th className="px-4 py-3 text-left text-sm font-semibold text-gray-700">Sebep</th>
                                            <th className="px-4 py-3 text-left text-sm font-semibold text-gray-700">Yeni Stok</th>
                                        </tr>
                                    </thead>
                                    <tbody className="divide-y divide-gray-200">
                                        {history.slice(0, 20).map(entry => (
                                            <tr key={entry.id} className="hover:bg-gray-50">
                                                <td className="px-4 py-3 text-sm text-gray-600">{entry.date}</td>
                                                <td className="px-4 py-3 text-sm">
                                                    <span className="px-2 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700">
                                                        {categoryNames[entry.category]}
                                                    </span>
                                                </td>
                                                <td className="px-4 py-3 text-sm font-medium text-gray-800">{entry.itemName}</td>
                                                <td className="px-4 py-3 text-sm">
                                                    <span className={`px-2 py-1 rounded-full text-xs font-semibold ${entry.action === 'Eklendi' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>
                                                        {entry.action}
                                                    </span>
                                                </td>
                                                <td className="px-4 py-3 text-sm font-semibold text-gray-700">{entry.amount}</td>
                                                <td className="px-4 py-3 text-sm text-gray-600 max-w-xs truncate">{entry.reason}</td>
                                                <td className="px-4 py-3 text-sm font-bold text-gray-800">{entry.newStock.toLocaleString('tr-TR')}</td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    {showModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                            <div className="bg-white rounded-lg shadow-2xl max-w-md w-full p-6">
                                <div className="flex items-center gap-3 mb-4">
                                    <AlertCircle size={28} />
                                    <h3 className="text-xl font-bold text-gray-800">
                                        {modalData.action === 'add' ? 'Stok Ekleme' : 'Stok Çıkarma'}
                                    </h3>
                                </div>
                                <div className="space-y-4">
                                    <div className="bg-gray-50 p-4 rounded-lg">
                                        <p className="text-sm text-gray-600 mb-1">Ürün</p>
                                        <p className="font-semibold text-gray-800">{modalData.item?.name}</p>
                                    </div>
                                    <div className="bg-gray-50 p-4 rounded-lg">
                                        <p className="text-sm text-gray-600 mb-1">Mevcut Stok</p>
                                        <p className="text-2xl font-bold text-gray-800">{modalData.item?.stock.toLocaleString('tr-TR')} adet</p>
                                    </div>
                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">
                                            {modalData.action === 'add' ? 'Eklenecek' : 'Çıkarılacak'} Miktar
                                        </label>
                                        <input type="number" value={modalData.amount} onChange={(e) => setModalData({ ...modalData, amount: parseInt(e.target.value) || 0 })} className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Miktar giriniz" min="0" />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">
                                            Sebep <span className="text-red-500">*</span>
                                        </label>
                                        <textarea value={modalData.reason} onChange={(e) => setModalData({ ...modalData, reason: e.target.value })} className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder={modalData.action === 'add' ? 'Örn: 250084 numaralı irsaliye ile B8 kutu geldi' : 'Örn: FO25012 siparişi için'} rows="3" />
                                    </div>
                                    <div className="bg-blue-50 p-4 rounded-lg">
                                        <p className="text-sm text-gray-600 mb-1">Yeni Stok</p>
                                        <p className="text-2xl font-bold text-blue-600">
                                            {((modalData.item?.stock || 0) + (modalData.action === 'add' ? modalData.amount : -modalData.amount)).toLocaleString('tr-TR')} adet
                                        </p>
                                    </div>
                                    <div className="flex gap-3 pt-2">
                                        <button onClick={() => setShowModal(false)} className="flex-1 px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition font-semibold">
                                            İptal
                                        </button>
                                        <button onClick={confirmStockChange} className={`flex-1 px-4 py-3 text-white rounded-lg transition font-semibold ${modalData.action === 'add' ? 'bg-green-600 hover:bg-green-700' : 'bg-red-600 hover:bg-red-700'}`}>
                                            Onayla
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };
        ReactDOM.render(<InventoryManagement />, document.getElementById('root'));
    </script>
</body>
</html>
                                          
                                        
            
